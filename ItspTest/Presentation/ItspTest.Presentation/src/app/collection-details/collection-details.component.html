<div>
    <h2>Welcome to {{collectionName}}</h2>
    <span style="margin-left: 30px;">
        <a [routerLink]="['/movie-collections']">Back to Collections</a>
    </span>
</div>

<div *ngIf="isUserCreatedCollection">
    <div class="row">
        <div class="col-2">
            <button type="button" class="btn btn-outline-primary" (click)="collapse.toggle()"
                [attr.aria-expanded]="!addingMoviesMode" aria-controls="collapseExample">
                Add movies
            </button>
        </div>
    </div>

    <div #collapse="ngbCollapse" [(ngbCollapse)]="!addingMoviesMode">
        <div class="card">
            <div class="card-body">
                <table class="table table-striped">
                    <tbody>
                        <tr *ngFor="let movie of availableMovies; index as i">
                            <td>
                                <input type="checkbox" [checked]="movie.isSelected"
                                    (change)="movie.isSelected = !movie.isSelected" />
                                <span>{{movie.name}} - {{movie.year}}</span>
                            </td>
                        </tr>
                    </tbody>
                </table>

                <input type="button" value="Add" class="btn btn-outline-primary" (click)="addMoviesToCollection()" />
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div>
        <h2>Movies</h2>
    </div>

    <table class="table table-striped">
        <thead>
            <tr>
                <th scope="col">Name</th>
                <th scope="col">Year</th>
                <th scope="col">Action</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let movie of movies; index as i">
                <td>
                    {{ movie.name }}
                </td>
                <td>
                    {{ movie.year }}
                </td>
                <td>
                    <input type="button" value="Delete" class="btn btn-outline-danger"
                    (click)="deleteMovieFromCollection(movie.id)" />
                </td>
            </tr>
        </tbody>
    </table>
</div>